!function(n){function a(n){if(null!=n.match(/^\d{2}\.\d{3}\.\d{3}\/\d{4}\-\d{2}$/)){var i,a=n.substring(0,2),t=n.substring(3,6),r=n.substring(7,10),l=n.substring(11,15),e=n.substring(16,18),u=!0;s=a+t+r+l+e,c=s.substr(0,12);var f=s.substr(12,2),d=0;for(i=0;i<12;i++)d+=c.charAt(11-i)*(2+i%8);for(0==d&&(u=!1),(d=11-d%11)>9&&(d=0),f.charAt(0)!=d&&(u=!1),d*=2,i=0;i<12;i++)d+=c.charAt(11-i)*(2+(i+1)%8);return(d=11-d%11)>9&&(d=0),f.charAt(1)!=d&&(u=!1),u}return!1}function t(n){if(null!=n.match(/^\d{3}\.\d{3}\.\d{3}\-\d{2}$/)){if(null!=n.match(/\b(.+).*(\1.*){10,}\b/g))return!1;var a,t,r=n.replace(/\D/g,"");for(a=0,i=1;i<=9;i++)a+=parseInt(r.substring(i-1,i))*(11-i);if(10!=(t=10*a%11)&&11!=t||(t=0),t!=parseInt(r.substring(9,10)))return!1;for(a=0,i=1;i<=10;i++)a+=parseInt(r.substring(i-1,i))*(12-i);return 10!=(t=10*a%11)&&11!=t||(t=0),t==parseInt(r.substring(10,11))}return!1}n.fn.cpfcnpj=function(i){var r=n.extend({mask:!1,validate:"cpfcnpj",event:"focusout",handler:n(this),ifValid:null,ifInvalid:null},i);if(r.mask)if(null==jQuery().mask)r.mask=!1,console.log("jQuery mask not found.");else{var s=n(this);if("cpf"==r.validate)s.mask("000.000.000-00");else if("cnpj"==r.validate)s.mask("00.000.000/0000-00");else{var l="000.000.000-009",e={onKeyPress:function(n){var i=["000.000.000-009","00.000.000/0000-00"];l=n.length>14?i[1]:i[0],s.mask(l,e)}};s.mask(l,e)}}return this.each(function(){var i=null,s=n(this);n(document).on(r.event,r.handler,function(){if(14==s.val().length||18==s.val().length?"cpf"==r.validate?i=t(s.val()):"cnpj"==r.validate?i=a(s.val()):"cpfcnpj"==r.validate&&(t(s.val())?(i=!0,"cpf"):a(s.val())?(i=!0,"cnpj"):i=!1):i=!1,n.isFunction(r.ifValid))if(null!=i&&i){if(n.isFunction(r.ifValid)){var l=n.Callbacks();l.add(r.ifValid),l.fire(s)}}else n.isFunction(r.ifInvalid)&&r.ifInvalid(s)})})}}(jQuery);